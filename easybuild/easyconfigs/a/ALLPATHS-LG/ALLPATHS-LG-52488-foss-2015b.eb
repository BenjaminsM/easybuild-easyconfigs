easyblock = 'ConfigureMake'

name = 'ALLPATHS-LG'
version = '52488'

homepage = 'http://www.broadinstitute.org/software/allpaths-lg/blog/'
description = """ALLPATHS-LG, the new short read genome assembler."""

toolchain = {'name': 'foss', 'version': '2015b'}

# source is moved over time, hence multiple URLs below
source_urls = [
    'ftp://ftp.broadinstitute.org/pub/crd/ALLPATHS/Release-LG/latest_source_code',
    'ftp://ftp.broadinstitute.org/pub/crd/ALLPATHS/Release-LG/latest_source_code/2015-04',
    'ftp://ftp.broadinstitute.org/pub/crd/ALLPATHS/Release-LG/latest_source_code/2015/2015-04',
]
sources = ['allpathslg-%(version)s.tar.gz']
checksums = ['bde9008e236d87708a48eb83af6d6d5b']

binaries = [
    'AddUnibaseJunctions',
    'AlignPairsToFasta',
    'AlignReads',
    'AlignUnibasesToRef',
    'AllPathsCache.pm',
    'AllPathsReport',
    'ApplyAssemblyEdits',
    'ApplyGapPatches',
    'ArachneArgs.pm',
    'AssemblyAccuracy',
    'AssemblyCoverage',
    'BigMap',
    'BreakUnlinkedAssisted',
    'BuildUnipathLinkGraphsLG',
    'CacheGroups.pl',
    'CacheLibs.pl',
    'CacheReadsMerge',
    'CacheToAllPathsInputs.pl',
    'CacheToReads.pl',
    'ChangeLibraryStats',
    'CleanAssembly',
    'CleanCorrectedReads',
    'CleanLongReadPatches',
    'CloseUnipathGaps',
    'CommonPather',
    'CompileAssemblyReport.pl',
    'ConnectScaffolds',
    'ConvertToFastbQualb.pl',
    'CorrectLongReads',
    'CreateLookupTab',
    'DisplayLibraryStats',
    'DisplayLocs',
    'DumpHyper',
    'EfastaToFasta',
    'ErrorCorrectJump',
    'ErrorCorrectReads.pl',
    'EvalScaffolds',
    'EvaluateCorrectedPairs',
    'EvaluateGaps',
    'EvalUnipathLinkGraphs',
    'FakeQualb',
    'Fasta2Fastb',
    'FastaToEfasta',
    'Fastb',
    'Fastb2Fasta',
    'FastbMerge',
    'FastbQualbToFastq',
    'FastbQualbTrimReverse',
    'FastbStats',
    'FastqToFastbQualb',
    'FillFragments',
    'FilterPrunedReads',
    'FindErrors',
    'FindUnipathGaps',
    'FixAssemblyBaseErrors',
    'FixLocal',
    'FixPrecompute',
    'FixSomeIndels',
    'FlattenHKP',
    'GenerateMapUnibasesToContigs',
    'GenomeReadLocsLG',
    'GenomeToPaths',
    'HaploidifyStatsPlot.pl',
    'Happening',
    'HelpMe.pl',
    'HyperToReftigs',
    'Jumpomatic',
    'KmerSpectrum',
    'KmerSpectrumPlot.pl',
    'KPatch',
    'LibCoverage',
    'LittleHelpsBig',
    'LocalizeReadsLG',
    'LongReadConsensus',
    'LongReadPostPatcher',
    'LongReadsToUnipaths',
    'LongReadUnipathPatcher',
    'MakeLookupTable',
    'MakeRcDb',
    'MakeScaffoldsLG',
    'MapSeeds',
    'MemHogger',
    'MemMonitor',
    'MergeContigsOnReference',
    'MergeNeighborhoods1',
    'MergeNeighborhoods2',
    'MergeNeighborhoods3',
    'MergePairedFastbs',
    'MergeReadSets',
    'Mixmer',
    'NaifDB.pm',
    'naifdb-test.pl',
    'OldPicardCacheToCache.pl',
    'ParallelSortTest',
    'ParseMemMonitorOutput.pl',
    'PatcherCottage',
    'PathReads',
    'PathsToLocs',
    'PerlRunTime.pm',
    'PerlUtils.pm',
    'PicardToCache.pl',
    'PickTheRightBranch',
    'PostPatcher',
    'PostPatcherBuildJoins',
    'PrepareAllPathsInputs.pl',
    'PrepareGenome',
    'PunchTandemHoles',
    'Quala2Qualb',
    'Qualb2Quala',
    'QualbStats',
    'QualbStatsPlot.pl',
    'QualsStatsAddToCache.pl',
    'QueryLookupTable',
    'ReadFilterByKmerFreq',
    'ReadTrack',
    'RebuildAssemblyFiles',
    'RecoverPunchTandem',
    'RecoverUnipaths',
    'RemodelGaps',
    'RemoveDodgyReads',
    'RemoveHighCNAligns',
    'ReplacePairsStats',
    'RunAllPathsLG',
    'SamplePairedReadDistributions',
    'SamplePairedReadStats',
    'ScaffoldAccuracy',
    'ScaffoldGraphToGnuplot',
    'ScaffoldLayout',
    'SelectRandomPairs',
    'SelectSeeds',
    'ShaveUnipathGraph',
    'ShortQueryLookup',
    'SimpleGapCloser',
    'SplitUnibases',
    'SubmissionPrep',
    'TagCircularScaffolds',
    'TrueUnipathCoverage',
    'UnibaseCopyNumber3',
    'UnipathBabyStats',
    'Unipather',
    'UnipatherBig',
    'UnipathEval',
    'UnipathLocsLG',
    'UnipathPatcher',
    'UniquifyAligns2',
    'ValidateAllPathsInputs',
]

sanity_check_paths = {
    'files': ['bin/%s' % x for x in binaries],
    'dirs': ['bin', 'share'],
}

moduleclass = 'bio'
