easyblock = "PythonPackage"

name = 'SPARSE'
version = '20180423-f97098e'
versionsuffix = '-Python-%(pyver)s'

homepage = 'https://github.com/nilesh-tawari/ChronQC'
description = """A Quality Control Monitoring System for Clinical Next Generation Sequencing."""

toolchain = {'name': 'foss', 'version': '2015b'}

#
# https://github.com/zheminzhou/SPARSE/archive/f97098e68c7e41bed159e9d7a14d25b76f7d96e3.zip
#
source_urls = ['https://github.com/zheminzhou/%(name)s/archive/']
sources = ['f97098e68c7e41bed159e9d7a14d25b76f7d96e3.zip']
patches = ['%(name)s-f97098e68c7e41bed159e9d7a14d25b76f7d96e3.patch']
checksums = [
    '7c16432604b48043dd56a3323567e913', # f97098e68c7e41bed159e9d7a14d25b76f7d96e3.zip
    '6ddcc375fc4970ca28fef4794b094859', # SPARSE-f97098e68c7e41bed159e9d7a14d25b76f7d96e3.patch
]

dependencies = [
    ('ncurses', '5.9'),
    ('SAMtools', '1.3.1'),
    ('Bowtie2', '2.3.4.1'),
    ('mash', '2.0'),
    ('Python', '2.7.11'),
]

binaries = ['SPARSE.py']
sanity_check_paths = {
    'files': ['bin/%s' % x for x in binaries],
    'dirs':  ['bin', 'lib/python%(pyshortver)s/site-packages'],
}

moduleclass = 'bio'
modextrapaths = {'PYTHONPATH': ['lib/python%(pyshortver)s/site-packages']}